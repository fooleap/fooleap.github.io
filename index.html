---
layout: default
---

<section class="articles">
    <ul>
        {% for post in paginator.posts %}
        {% if post.thumb %}
        {% assign thumbnail = post.thumb | replace:'IMG_PATH', site.IMG_PATH %}
        {% else %}
        {% if post.content contains site.IMG_PATH %}
        {% assign images = post.content | split:'<img src="' %}
        {% for image in images %}
        {% if image contains site.IMG_PATH %}
        {% assign thumbnail = image | split:"?imageView" | first | split: '"' | first | remove: "_640" %}
        {% break %}
        {% endif %}
        {% endfor %}
        {% else %}
        {% assign thumbnail =  site.IMG_PATH | append: "/avatar.jpg" %}
        {% endif %}
        {% endif %}
        <li>
            <img class="thumbnail"  src="{{ thumbnail | append: '?imageView2/1/w/100/h/100/q/90'}}" alt="{{ post.title }}" data-image-ave="{{ thumbnail | append: '?imageAve' }}"/>
            <div class="comment-count"><a class="disqus-comment-count" title="查看评论" data-disqus-url="{{ post.url }}" href="{{ post.url }}#comments"></a></div>
            <div class="post-infos">
                <h3 class="post-title"><a href="{{ post.url }}" title="{{ post.title }}">{{ post.title }}</a></h3>
                <abbr class="post-date timeago" title="{{ post.date | date_to_xmlschema }}"></abbr>
            </div>
        </li>
        {% endfor %}
    </ul>
</section>

<nav class="pagination">
    <ul>
        {% if paginator.next_page %}
        <li class="older"><a href="/page{{paginator.next_page}}/">&laquo; 较旧文章</a></li>
        {% else %}
        <li class="older disable">没有了</li>
        {% endif %}
        <li class="number">{{paginator.page}} / {{paginator.total_pages}}</li>
        {% if paginator.previous_page %}
        {% if paginator.previous_page == 1 %}
        <li class="newer"><a href="/">较新文章 &raquo;</a></li>
        {% else %}
        <li class="newer"><a href="/page{{paginator.previous_page}}/">较新文章 &raquo;</a></li>
        {% endif %}
        {% else %}
        <li class="newer"></li>
        {% endif %}
    </ul>
</nav>
